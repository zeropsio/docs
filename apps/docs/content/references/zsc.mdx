---
title: Using Zerops Setup Control(Zsc)
description: Interacting with zerops network via zcli cli with wireguard vpn.
---

import Image from '/src/components/Image';


Zerops Setup Control(Zsc) is a cli tool / helper installed to all containers, runtime and build,
which allows some direct modifications, like triggering scaling from inside the container,
adding new technologies, making sure that commands (like migration) run only once (even when
staring some high available setup with 3 containers)

It allows you to interact with your zerops project and services in a secure and private way with the help of VPN or the remote web terminal.

<p align="center">
  <Image
    lightImage="/img/gui/zsc-web-terminal.webp"
    darkImage="/img/gui/zsc-web-terminal.webp"
    alt="Zerops Setup Control Web Terminal"
    caption="Web Terminal"
    style={{ width: '100%', height: 'auto' }}
  />
</p>

## Usage

You can interact with zsc in your active services inside your zerops project with the help of SSH to your service after you're
connected to the project using zerops vpn.

### Start VPN

:::info
Make sure you have installed [zCLI](/references/zcli) to your system as we need to use [zCLI commands](/references/zcli#vpn-commands) to start the [VPN](/references/vpn).
:::

Start a VPN session with:

```sh
zcli vpn up
```

```sh title="bash"
Usage:
  zcli vpn up [projectId] [flags]

Flags:
      --auto-disconnect    If set, zCLI will automatically disconnect from the VPN if it is already connected.
  -h, --help               the vpn up command.
      --projectId string   If you have access to more than one project, you must specify the project ID for which the
                           command is to be executed.
```

Or you can also connect to a specfic project by passing your project ID which you can get from your zerops
dashboard gui and add it into the `projectId` parameter:

```sh
zcli vpn up Evs8Je4NTvKeIkUqoUXp2w
```

You may need enclose your project name with quotes if it contains contains spaces.

:::info
When running `zcli vpn up` for the first time, you'll be prompted to install the Zerops VPN daemon. 
Enter `y` to confirm (you may need to provide your root/administrator password).
:::

Once connected, you’ll have secure access to the project’s private network.

You can reach all services locally using their hostnames. However, environment variables are not available
when connected via VPN.

You can only connect to one project at a time. If you’re already connected to another project, that connection
will close automatically when you start a new connection by running `zcli vpn up` and choosing another project.

The VPN daemon keeps the connection open until you manually stop it. If the connection drops, it will automatically
try to reconnect.

### Stop VPN

Use `zcli vpn down` command to stop the existing VPN session.

```sh title="bash"
Usage:
  zcli vpn down [flags]

Flags:
  -h, --help   the vpn down command.
```

## ZSC Commands

:::info
ZSC is automatically installed in all containers and is available both in runtime and build environments.
:::

```sh
$ zsc --help
Zerops SetupControl CLI

Usage:
  zsc [command]

Available Commands:
  action               Perform specific predefined actions within the container
  backup-create        creates a new backup of the specified stack
  backup-current       Create a new backup of the current stack
  completion           Generate the autocompletion script for the specified shell
  connectSharedStorage Connect shared storage to the container
  crontab              Perform crontab actions defined in zerops.yml
  execOnce             Execute a command once for the provided key
  fail-me              Fail current container
  help                 Help about any command
  install              Run install commands for the specified base
  noop                 Infinitely blocking command that does nothing
  scale                Scale container CPU or memory instantly*
  setSecretEnv         Set an secret environment variable in the current stack context
  version              application version

Flags:
  -h, --help   help for zsc

Use "zsc [command] --help" for more information about a command.
```


### Basic Usage

```sh
zsc [command]
```

To get help for any command:
```sh
zsc [command] --help
```

### Available Commands

#### backup-create and backup-current
Create backups of specified or current stack:
```sh
zsc backup-create
zsc backup-current
```

#### connectSharedStorage
Connect shared storage to the container:
```sh
zsc connectSharedStorage
```

#### crontab
Manage crontab actions defined in zerops.yml:
```sh
zsc crontab
```

#### execOnce
Execute a command once for a provided key.

:::info
This command is particularly useful in high-availability setups to ensure commands (like migrations) run only once, even when starting multiple containers.
:::

```sh
zsc execOnce
```

#### fail-me
Deliberately fail the current container (useful for testing):
```sh
zsc fail-me
```

#### install
Install additional base technologies in your runtime container.

:::info
The `install` command allows you to add technologies that weren't specified in the initial base configuration.
:::

Example usage in `zerops.yml`:

```yaml
zerops:
  - setup: nodejsapp
    build:
      os: ubuntu
      base: 
        - nodejs@22
        - python@3.7
    run:      
      os: ubuntu
      base: nodejs@22
      prepareCommands:
        - zsc install python@3.7
```

#### noop
An infinitely blocking command that does nothing.

:::info
The `noop` command is particularly useful for debugging build failures by keeping the container alive for investigation.
:::

```sh
zsc noop
```

#### scale
Instantly scale CPU or memory resources for the current container:

:::caution
If there aren't enough resources available on the current node, using `scale` may trigger a container move to another node. This will reset the scale duration.
:::

```sh
# Scale CPU
zsc scale cpu auto           # Reset to automatic scaling
zsc scale cpu 5 1h          # Scale to 5 CPU cores for 1 hour
zsc scale cpu +2 30m        # Add 2 CPU cores for 30 minutes

# Scale Memory
zsc scale memory auto       # Reset to automatic scaling
zsc scale memory 5GB 1h     # Scale to 5GB RAM for 1 hour
zsc scale memory +2.5GB 600s # Add 2.5GB RAM for 600 seconds
```

:::info
- Scaling takes effect within ~10 seconds
- Duration must be at least 10 minutes
- Supported values: "auto", "min", "max", or numeric values
- RAM values require units (KiB, MiB, GiB)
- CPU values must be integers without units
- Use "+" prefix for relative scaling
:::

:::caution
Containers cannot be scaled beyond their min/max limits set in vertical autoscaling. For example, if you try to scale to 10GB RAM but the max is 5GB, it will only scale to 5GB.
:::

#### test tcp
Test TCP connectivity to specified hosts:

:::info
The test command retries the connection every 2 seconds until the timeout is reached.
:::

```sh
zsc test tcp hostname:port [flags]
```

Flags:
- `--timeout <duration>` - Total test duration (default: 30s)
- `--dialTimeout <duration>` - Single attempt timeout (default: 2s)
- `-4` - Force IPv4
- `-6` - Force IPv6

Example:
```sh
zsc test tcp database:5432 --timeout 1m
```

#### setSecretEnv
Set a secret environment variable in the current stack context:
```sh
zsc setSecretEnv
```

#### version
Display the ZSC version:
```sh
zsc version
```

