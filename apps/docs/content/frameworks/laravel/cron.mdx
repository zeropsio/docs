---
title: Schedule Jobs & CRON
description: Learn how to configure and manage cron jobs in your Zerops Laravel application
---

Zerops provides a convenient way to configure cron jobs directly in your `zerops.yml` file. These scheduled tasks can be configured to run on single or multiple containers with flexible timing options.

## Basic Configuration

Cron jobs are defined in the `run.crontab` section of your `zerops.yml`. Each job requires at least a `command` and `timing` parameter.

```yaml
run: 
  crontab:
    - command: "date >> /var/log/cron.log"
      timing: "0 * * * *"
```

This basic example writes the current date to a log file every hour.

## Configuration Options

### Timing Format

The `timing` parameter uses standard cron syntax:
- `* * * * *` = minute hour day-of-month month day-of-week
- Example: `0 * * * *` runs at minute 0 of every hour
- Example: `*/15 * * * *` runs every 15 minutes

### Available Parameters

| Parameter | Description | Default |
|-----------|-------------|---------|
| `command` | The command to execute | Required |
| `timing` | Cron timing expression | Required |
| `workingDir` | Directory to run the command from | Container root |
| `allContainers` | Run on all containers instead of just one | `false` |

## Common Use Cases

### Laravel Scheduler
To run Laravel's scheduler, configure it to execute every minute:

```yaml
run: 
  crontab:
    - command: "php artisan schedule:run"
      timing: "* * * * *"
      workingDir: /var/www/html
```

### Cleanup Tasks
Run maintenance tasks on all containers:

```yaml
run: 
  crontab:
    - command: "rm -rf /tmp/*"
      timing: "0 0 * * *"
      allContainers: true
```

### Multiple Jobs
You can define multiple cron jobs in the same configuration:

```yaml
run:
  crontab:
    - command: "php artisan schedule:run"
      timing: "* * * * *"
      workingDir: /var/www/html
    
    - command: "php artisan cache:clear"
      timing: "0 0 * * *"
      workingDir: /var/www/html
      
    - command: "php artisan queue:restart"
      timing: "0 */6 * * *"
      workingDir: /var/www/html
```

## Best Practices

1. **Log Output**: Consider logging the output of your cron jobs for debugging:
   ```yaml
   command: "php artisan schedule:run >> /var/log/scheduler.log 2>&1"
   ```

2. **Working Directory**: Always specify `workingDir` for Laravel commands to ensure they run from the correct location.

3. **Container Selection**: Use `allContainers: true` carefully, as it might cause duplicate operations in a multi-container setup.

4. **Timing Considerations**: Avoid running resource-intensive tasks during peak hours.

## Monitoring

You can monitor your cron jobs through:
- Runtime logs in your Project's Runtime logs
- Custom log files you create in your commands
- Laravel's built-in logging system for artisan commands

For detailed logs of Laravel scheduled tasks, consider enabling scheduler logging in your `.env`:
```
LOG_CHANNEL=daily
```

